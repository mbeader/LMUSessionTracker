@if(session != null && session.history != null) {
<table class="table table-sm table-striped table-hover">
    <thead>
        <tr>
            <th scope="col">Class</th>
            <th scope="col">Number</th>
            <th scope="col">Team</th>
            <th scope="col">Drivers</th>
            <th scope="col">Vehicle</th>
            <th scope="col" class="text-end">Laps</th>
        </tr>
    </thead>
    <tbody>
        @for (car of session.history; track carKeyId(car.key); let i = $index) {
        <tr>
            <td>{{ car.car.class }}</td>
            <td>{{ car.car.number }}</td>
            <td>{{ car.car.teamName }}</td>
            <td>{{ join(drivers.get(carKeyId(car.key) ?? '')) }}</td>
            <td>{{ car.car.vehicleName }}</td>
            <td class="text-end"><a [routerLink]="['Laps', `${carKeyId(car.key)}`]">{{ car.laps && car.laps.length > 0 ? car.laps[car.laps.length - 1].lapNumber : 0 }}</a></td>
        </tr>
        }
    </tbody>
</table>
}
